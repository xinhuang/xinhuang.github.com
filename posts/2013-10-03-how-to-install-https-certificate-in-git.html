<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1"><title>How to Install HTTPS Certificate In Git</title><style>body{margin:1em auto;max-width:40em;padding:0 .62em;font:1.2em/1.62em sans-serif;background-color:#f0efd1}h1,h2,h3{line-height:1.2em}@media print{body{max-width:none}}a{text-decoration:none}li{list-style:none}article{margin:auto;font-size:14px;padding:3px 1em}.metadata{color:rgba(0,0,0,.54)}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}.left{float:left}.right{float:right}</style></head><body><article id=top class=anchor><div layout=row><div flex=30 flex-xs=0 flex-sm=15></div><div flex=40 flex-xs=100 flex-sm=70><h1>How to Install HTTPS Certificate In Git</h1><div class=metadata>2013-10-03</div><hr>
                <p>Suppose you want to push to a repo on GitHub. Before you are using SSH to access the repo, but now you are behind a HTTP proxy, and SSH won&#39;t work.</p>
<p>##Change Repo URL to HTTPS</p>
<p><strong>First of all</strong>, you need to config the repo using HTTPS instead of SSH. Using following command:</p>
<pre><code>git remote set-url origin https://USERNAME@github.com/USERNAME/REPO-NAME.git
</code></pre><p>Notice that the URL is not the one GitHub gives to you at project page like <code>https://github.com/USERNAME/REPO.git</code>. If you use this URL, push will fail since it&#39;s read-only. Add your <code>username@</code> between <code>https://</code> and <code>github.com</code>.</p>
<h2 id="config-proxy">Config Proxy</h2>
<p><strong>Next</strong>, is to config your proxy by following command:</p>
<pre><code>git config --global http.proxy PROXY-ADDRESS
</code></pre><p><em>For GoAgent user, the proxy address is <code>localhost:8087</code>.</em></p>
<h2 id="the-ssl-problem">The SSL Problem</h2>
<p>Now, if try to push to repo, you might receive Git reporting error like:</p>
<blockquote>
<p>error: SSL certificate problem, verify that the CA cert is OK.
Details: error:14090086:SSL
routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed while
accessing <a href="https://github.com/USERNAME/REPO.git/info/refs">https://github.com/USERNAME/REPO.git/info/refs</a></p>
</blockquote>
<p>This is caused by the proxy cannot support HTTPS encryption(like GoAgent), thus leads to HTTPS verification failure.</p>
<h3 id="how-to-solve-">How to Solve?</h3>
<p>There are two ways to solve this <strong>SSL problem</strong>:</p>
<ol>
<li><p>Disable SSL verification of Git. No matter you are in the US or China, this turns out to be the <strong>least desirable</strong> way.<br>Even thought GoAgent doesn&#39;t support SSL because the limitation of GAE, it&#39;s still undesirable to &quot;fully trust the other end&quot;. What if you have a proxy support SSL later?<br><em>So forget it.</em></p>
</li>
<li><p>Use following ways to import the SSL provided by your proxy server.</p>
</li>
</ol>
<p>Last step is to add the certificates of proxy to Git. By open the certificates provided by the proxy in notepad, e.g. CA.crt in GoAgent:</p>
<pre><code>-----BEGIN CERTIFICATE-----
MIIDUjCCAjoCAQAwDQYJKoZIhvcNAQEFBQAwbzEVMBMGA1UECxMMR29BZ2VudCBS
...
-----END CERTIFICATE-----
</code></pre><p>Copy it, and paste to the end of file <code>Git\ssl\certs\cacert.pem</code>. (You can also import the CA by copy-paste on Linux if you know the CA Git use)</p>
<p>Done! Now you should be able to push to your GitHub repo using the HTTP proxy.</p>

                </div></div><hr><a href=/ class=left>Home</a> <a href=# class=right>Top</a></article></body><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-42274645-1","auto"),ga("send","pageview")</script></html>