<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <title>Test Daemon For Nose In Python</title>
    <style>
    body {
        margin: 1em auto;
        max-width: 40em;
        padding: 0 .62em;
        font: 1.2em/1.62em sans-serif;
        background-color: #f0efd1;
    }

    h1,
    h2,
    h3 {
        line-height: 1.2em;
    }

    @media print {
        body {
            max-width: none;
        }
    }

    a {
        text-decoration: none;
    }

    li {
        list-style: none;
    }

    article {
        margin: auto;
        font-size: 14px;
        padding: 3px 1em
    }

    .metadata {
        color: rgba(0, 0, 0, 0.54);
    }
    </style>
</head>

<body>
    <article id="top" class="anchor">
        <div layout="row">
            <div flex="30" flex-xs="0" flex-sm="15"></div>
            <div flex="40" flex-xs="100" flex-sm="70">
                <h1>Test Daemon For Nose In Python</h1>
                <div class="metadata">2013-11-03</div>
                <!-- htmlmin:ignore -->
                <p>Last week we had a great night with Tim Ottinger, playing with Python to analyze commit history.</p>
<p>One thing impressed me is Tim&#39;s Python develop environment. His tests are running automatically after a change. I didn&#39;t caught up how he made it work, and cannot find a apropiate key word to google. So here is my own. :P</p>
<p>The basic idea is quite simple: Use nose API to re-run tests every time a source change is detected.</p>
<pre><code>while True
    while sourceChanged(dirs):
        time.sleep(1)
    nose.run()
</code></pre><p>Only thing needs special attention is to isolate test modules by provide option <code>--with-isolation</code>, so nose will reload them before each <code>nose.run</code>.</p>
<p>{% gist 7280997 %}</p>
<p>There could be more enhancement:</p>
<ol>
<li><p>Not only monitor *.py files, but all files. Configuration files can also have an impact on test result.</p>
</li>
<li><p>Ignore version control files, because these folders are always filled by tones of files.</p>
</li>
</ol>
<hr>
<p>Update:</p>
<p>There is a python lib <a href="https://github.com/gorakhargosh/watchdog">watchdog</a> that can be used to monitor file changes. Try it!</p>

                <!-- htmlmin:ignore -->
            </div>
        </div>
    </article>
</body>

</html>
